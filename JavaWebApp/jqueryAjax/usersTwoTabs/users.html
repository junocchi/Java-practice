<!-- 
  Create the Ajax call for these two api's
1. https://dummyjson.com/docs/users
2. https://dummyjson.com/users/1
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Users</title>
    <link
      rel="stylesheet"
      href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css"
    />
    <link rel="stylesheet" href="../../src/styleOne.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
    <script>
      $(function () {
        $("#tabs").tabs();
      });

      //Tab 1: display all users
      //add: API url, request type, if success what is should do, and dataType of the response.
      $(document).ready(function () {
        $("#displayAllLink").click(function () {
          $.ajax({
            url: "https://dummyjson.com/users",
            type: "GET",
            success: function (data) { //data is a variable that will store whatever is coming as a response
              $("#showAllUsers").html(displayAllUsers(data));
            },
            dataType: "json",
          });
        });
      });

      //Tab 2: search user by ID number
      //add: API url, request type, if success what is should do, and dataType of the response.
      $(document).ready(function () {
        $("#search").click(function () {
          $.ajax({
            url: "https://dummyjson.com/users/" + $("#userId").val(),
            type: "GET",
            success: function (data) {
              $("#showUser").html(displayUser(data));
            },
            dataType: "json",
          });
        });
      });

      function displayAllUsers(data) {
        var table =
          '<table border="1"><tr><th>UserID</th><th>FirstName</th><th>LastName</th><th>MaidenName</th><th>Age</th></th><th>Gender</th><th>Email</th><th>Phone</th><th>Username</th><th>Password</th><th>BirthDate</th><th>Image</th><th>BloodGroup</th><th>Height</th><th>Weight</th><th>EyeColor</th><th>Hair</th><th>Domain</th><th>Ip</th><th>Address</th><th>MacAddress</th><th>University</th><th>Bank</th><th>Company</th><th>Ein</th><th>Ssn</th><th>UserAgent</th></tr>';
        for (var index = 0; index < 10; index++) {
          table +=
            "<tr><td>" +
            data.users[index].id +
            "</td><td>" +
            data.users[index].firstName +
            "</td><td>" +
            data.users[index].lastName +
            "</td><td>" +
            data.users[index].maidenName +
            "</td><td>" +
            data.users[index].age +
            "</td><td>" +
            data.users[index].gender +
            "</td><td>" +
            data.users[index].email +
            "</td><td>" +
            data.users[index].phone +
            "</td><td>" +
            data.users[index].username +
            "</td><td>" +
            data.users[index].password +
            "</td><td>" +
            data.users[index].birthDate +
            "</td><td>" +
            data.users[index].image +
            "</td><td>" +
            data.users[index].bloodGroup +
            "</td><td>" +
            data.users[index].height +
            "</td><td>" +
            data.users[index].weight +
            "</td><td>" +
            data.users[index].eyeColor +
            "</td><td>" +
            data.users[index].hair.color +
            " - " +
            data.users[index].hair.type +
            "</td><td>" +
            data.users[index].domain +
            "</td><td>" +
            data.users[index].ip +
            "</td><td>" +
            data.users[index].address.address +
            ", "+
            data.users[index].address.city + 
            ", "+
            data.users[index].address.state + 
            " "+
            data.users[index].address.postalCode + 
            "</td><td>" +
            data.users[index].macAddress +
            "</td><td>" +
            data.users[index].university +
            "</td><td>" +
            data.users[index].bank.cardNumber + 
            " ("+
            data.users[index].bank.cardType + 
            ")"+
            data.users[index].company.name + 
            ", "+
            data.users[index].company.department + 
            "</td><td>" +
            data.users[index].ein +
            "</td><td>" +
            data.users[index].ssn +
            "</td><td>" +
            data.users[index].userAgent +
            "</td></tr>";
        }
        table += "</table>";
        return table;
      }
      function displayUser(data) {
        var table =
        '<table border="1"><tr><th>UserID</th><th>FirstName</th><th>LastName</th><th>MaidenName</th><th>Age</th></th><th>Gender</th><th>Email</th><th>Phone</th><th>Username</th><th>Password</th><th>BirthDate</th><th>Image</th><th>BloodGroup</th><th>Height</th><th>Weight</th><th>EyeColor</th><th>Hair</th><th>Domain</th><th>Ip</th><th>Address</th><th>MacAddress</th><th>University</th><th>Bank</th><th>Company</th><th>Ein</th><th>Ssn</th><th>UserAgent</th></tr>';

          table +=
          "<tr><td>" +
          data.id +
          "</td><td>" +
          data.firstName +
          "</td><td>" +
          data.lastName +
          "</td><td>" +
          data.maidenName +
          "</td><td>" +
          data.age +
          "</td><td>" +
          data.gender +
          "</td><td>" +
          data.email +
          "</td><td>" +
          data.phone +
          "</td><td>" +
          data.username +
          "</td><td>" +
          data.password +
          "</td><td>" +
          data.birthDate +
          "</td><td>" +
          data.image +
          "</td><td>" +
          data.bloodGroup +
          "</td><td>" +
          data.height +
          "</td><td>" +
          data.weight +
          "</td><td>" +
          data.eyeColor +
          "</td><td>" +
          data.hair.color +
          " - " +
          data.hair.type +
          "</td><td>" +
          data.domain +
          "</td><td>" +
          data.ip +
          "</td><td>" +
          data.address.address +
          ", "+
          data.address.city + 
          ", "+
          data.address.state + 
          " "+
          data.address.postalCode + 
          "</td><td>" +
          data.macAddress +
          "</td><td>" +
          data.university +
          "</td><td>" +
          data.bank.cardNumber + 
          " ("+
          data.bank.cardType + 
          ")"+
          data.company.name + 
          ", "+
          data.company.department + 
          "</td><td>" +
          data.ein +
          "</td><td>" +
          data.ssn +
          "</td><td>" +
          data.userAgent +
          "</td></tr>";

        table += "</table>";
        return table;
      }
    </script>
  </head>
  <body>
    <div id="tabs">
      <ul>
        <li><a href="#tab-1">Display All Users</a></li>
        <li><a href="#tab-2">Search User By ID</a></li>
      </ul>
      <div id="tab-1">
        <a id="displayAllLink" href="#">Display All Users</a>
        <div id="showAllUsers"></div>
      </div>
      <div id="tab-2">
        Enter User ID <input type="text" id="userId" /><br /><br />
        <input type="button" value="Search User" id="search" />
        <div id="showUser"></div>
      </div>
    </div>
  </body>
</html>
